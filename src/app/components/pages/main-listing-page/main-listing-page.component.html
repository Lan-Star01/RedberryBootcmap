<div class="filtering-and-addBtn-container">
    <section id="filteringFunction-section">
        <div class="filtering-function">
            <div class="region-container">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle filtering-dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      რეგიონი
                    </button>
                    <div class="dropdown-menu region-dropdown-menu">
                      <div class="filter-by-region-text">
                        <p>რეგიონის მიხედვით</p>
                      </div>
                      <div class="checkbox-container">
                        <div class="form-check" *ngFor="let region of regions">
                          <input class="form-check-input region-check-input" 
                            type="checkbox" 
                            [value]="region.id" 
                            [id]="'checkbox-' + region.id"
                            (change)="onCheckboxChange($event)"
                          >
                          <label class="form-check-label" for="flexCheckDefault">
                             {{region.name}}
                          </label>
                        </div>
                      </div>
                      <div class="filter-by-region-btn filter-btn">
                        <button type="button" class="btn choose-btn firaGO-5">არჩევა</button>
                      </div>
                    </div>
                </div>
            </div>
            <div class="price_category-container">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle filtering-dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      საფასო კატეგორია
                    </button>
                    <div class="dropdown-menu price-dropdown-menu">
                      <p class="price-title">ფასის მიხედვით</p>
                      <div class="min_max-price-container">
                        <div class="min-price price-container">
                          <div class="input-group min-price-input price-input">
                            <input type="text" class="form-control" placeholder="დან">
                            <span class="input-group-text">₾</span>
                          </div>
                          <div class="price-range-container">
                            <div class="price-range-title">მინ. ფასი</div>
                            <div class="price-range-list-container">
                              <li>50,500 ₾</li>
                              <li>100,500 ₾</li>
                              <li>150,500 ₾</li>
                              <li>200,500 ₾</li>
                              <li>30,500 ₾</li>
                            </div>
                          </div>
                        </div>
                        <div class="max-price price-container">
                          <div class="input-group max-price-input price-input">
                            <input type="text" class="form-control" placeholder="დან">
                            <span class="input-group-text">₾</span>
                          </div>
                          <div class="price-range-container">
                            <div class="price-range-title">მაქს. ფასი</div>
                            <div class="price-range-list-container">
                              <li>50,500 ₾</li>
                              <li>100,500 ₾</li>
                              <li>150,500 ₾</li>
                              <li>200,500 ₾</li>
                              <li>30,500 ₾</li>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="filter-by-price-btn filter-btn">
                        <button type="button" class="btn choose-btn">არჩევა</button>
                      </div>
                    </div>
                </div>
            </div>
            <div class="area-container">
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle filtering-dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  საფასო კატეგორია
                </button>
                <div class="dropdown-menu price-dropdown-menu">
                  <p class="area-title">ფართობის მიხედვით</p>
                  <div class="min_max-area-container">
                    <div class="min-area area-container">
                      <div class="input-group min-area-input area-input">
                        <input type="text" class="form-control" placeholder="დან">
                        <span class="input-group-text">მ²</span>
                      </div>
                      <div class="area-range-container">
                        <div class="area-range-title">მინ. მ²</div>
                        <div class="area-range-list-container">
                          <li>50,500 მ²</li>
                          <li>100,500 მ²</li>
                          <li>150,500 მ²</li>
                          <li>200,500 მ²</li>
                          <li>30,500 მ²</li>
                        </div>
                      </div>
                    </div>
                    <div class="max-area area-container">
                      <div class="input-group max-area-input area-input">
                        <input type="text" class="form-control" placeholder="დან">
                        <span class="input-group-text">მ²</span>
                      </div>
                      <div class="area-range-container">
                        <div class="area-range-title">მაქს. მ²</div>
                        <div class="area-range-list-container">
                          <li>50,500 მ²</li>
                          <li>100,500 მ²</li>
                          <li>150,500 მ²</li>
                          <li>200,500 მ²</li>
                          <li>30,500 მ²</li>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="filter-by-area-btn filter-btn">
                    <button type="button" class="btn choose-btn">არჩევა</button>
                  </div>
                </div>
            </div>
            </div>
            <div class="rooms-container">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle filtering-dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      საძინებლის რაოდენობა
                    </button>
                    <div class="dropdown-menu rooms-dropdown-menu">
                      <p>საძინებლების რაოდენობა</p>
                      <div class="Quantitiy-of-rooms">
                        <input class="form-control Quantitiy-of-rooms-input" type="text" placeholder="2">
                      </div>
                      <div class="filter-by-rooms-btn filter-btn">
                        <button type="button" class="btn choose-btn">არჩევა</button>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="listingAndAgentButton-section">
        <div class="listing_and_agent-button">
            <button type="button" class="btn listing orange-btn" (click)="navigateToAddListing()"><i class="bi bi-plus"></i> ლისტინგის დამატება</button>
            <button type="button" class="btn orange-line-btn" data-bs-toggle="modal" data-bs-target="#addAgentModal" (click)="openModal()"><i class="bi bi-plus"></i> აგენტის დამატება</button>
        </div>
    </section>
</div>
<section id="addedApartments-section">
    <div class="added-apartments">
      <div class="apartament-card" *ngFor="let apartment of realEstates" [attr.data-id]="apartment.id" (click)="navigateToApartmentDetails(apartment.id, apartment.image)">
        <span class="transaction-type"><p>{{ apartment.is_rental === 1 ? 'ქირავდება' : 'იყიდება' }}</p></span>
        <img [src]="apartment.image" class="card-img-top" alt="Apartment image" sizes="(max-width: 300px) 100vw, 300px">
        <div class="card-body">
          <h5>{{apartment.price}} ₾</h5>
          <div class="adress d-flex gap-1">
            <i class="bi bi-geo-alt-fill" style="color: #02152680;"></i>
            <p>{{apartment.city.name}}, {{apartment.address}}</p>
          </div>
          <div class="apt-info d-flex">
            <div class="room-info">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.25 10.8141C19.7772 10.6065 19.2664 10.4996 18.75 10.5H5.25C4.73368 10.4995 4.22288 10.6063 3.75 10.8136C3.08166 11.1059 2.51294 11.5865 2.11336 12.1968C1.71377 12.8071 1.50064 13.5205 1.5 14.25V19.5C1.5 19.6989 1.57902 19.8897 1.71967 20.0303C1.86032 20.171 2.05109 20.25 2.25 20.25C2.44891 20.25 2.63968 20.171 2.78033 20.0303C2.92098 19.8897 3 19.6989 3 19.5V19.125C3.00122 19.0259 3.04112 18.9312 3.11118 18.8612C3.18124 18.7911 3.27592 18.7512 3.375 18.75H20.625C20.7241 18.7512 20.8188 18.7911 20.8888 18.8612C20.9589 18.9312 20.9988 19.0259 21 19.125V19.5C21 19.6989 21.079 19.8897 21.2197 20.0303C21.3603 20.171 21.5511 20.25 21.75 20.25C21.9489 20.25 22.1397 20.171 22.2803 20.0303C22.421 19.8897 22.5 19.6989 22.5 19.5V14.25C22.4993 13.5206 22.2861 12.8073 21.8865 12.1971C21.4869 11.5869 20.9183 11.1063 20.25 10.8141Z" fill="#021526" fill-opacity="0.5"/>
              <path d="M17.625 3.75H6.375C5.67881 3.75 5.01113 4.02656 4.51884 4.51884C4.02656 5.01113 3.75 5.67881 3.75 6.375V9.75C3.75002 9.77906 3.75679 9.80771 3.76979 9.8337C3.78278 9.85969 3.80163 9.8823 3.82486 9.89976C3.84809 9.91721 3.87505 9.92903 3.90363 9.93428C3.93221 9.93953 3.96162 9.93806 3.98953 9.93C4.39897 9.81025 4.82341 9.74964 5.25 9.75H5.44828C5.49456 9.75029 5.53932 9.73346 5.57393 9.70274C5.60855 9.67202 5.63058 9.62958 5.63578 9.58359C5.67669 9.21712 5.85115 8.87856 6.12586 8.63256C6.40056 8.38656 6.75625 8.25037 7.125 8.25H9.75C10.119 8.25003 10.475 8.38606 10.75 8.63209C11.025 8.87812 11.1997 9.21688 11.2406 9.58359C11.2458 9.62958 11.2679 9.67202 11.3025 9.70274C11.3371 9.73346 11.3818 9.75029 11.4281 9.75H12.5747C12.621 9.75029 12.6657 9.73346 12.7003 9.70274C12.735 9.67202 12.757 9.62958 12.7622 9.58359C12.8031 9.21736 12.9773 8.87899 13.2517 8.63303C13.5261 8.38706 13.8815 8.25072 14.25 8.25H16.875C17.244 8.25003 17.6 8.38606 17.875 8.63209C18.15 8.87812 18.3247 9.21688 18.3656 9.58359C18.3708 9.62958 18.3929 9.67202 18.4275 9.70274C18.4621 9.73346 18.5068 9.75029 18.5531 9.75H18.75C19.1766 9.74979 19.6011 9.81057 20.0105 9.93047C20.0384 9.93854 20.0679 9.94 20.0965 9.93473C20.1251 9.92945 20.1521 9.91759 20.1753 9.90009C20.1986 9.88258 20.2174 9.8599 20.2304 9.83385C20.2433 9.8078 20.2501 9.7791 20.25 9.75V6.375C20.25 5.67881 19.9734 5.01113 19.4812 4.51884C18.9889 4.02656 18.3212 3.75 17.625 3.75Z" fill="#021526" fill-opacity="0.5"/>
              </svg>
               {{apartment.bedrooms}}
            </div>
            <div class="area-info">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 16C0 16.5304 0.210714 17.0391 0.585786 17.4142C0.960859 17.7893 1.46957 18 2 18H16C16.5304 18 17.0391 17.7893 17.4142 17.4142C17.7893 17.0391 18 16.5304 18 16V2C18 1.46957 17.7893 0.960859 17.4142 0.585786C17.0391 0.210714 16.5304 0 16 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V16ZM9 3H15V9H13V5H9V3ZM3 9H5V13H9V15H3V9Z" fill="#021526" fill-opacity="0.5"/>
                </svg>
                
               {{apartment.area}} მ²
            </div>
            <div class="postal-code"><i class="bi bi-signpost-fill" style="color: #02152680;"></i>{{apartment.zip_code}}</div>
          </div>
        </div>
      </div>
    </div>
</section>

<app-shared-modal *ngIf="modalService.isModalOpen()"></app-shared-modal>
